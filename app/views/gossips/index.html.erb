<div class="top-bar" style="margin-bottom:30px;">
	<h3 style="text-align:center;padding-bottom:10px;border-bottom: 3px double rgba(34,25,25,0.1);">
	Latest Gossip</h3>
</div>
<div class="top-bar">
	<h3 style="text-align:center">You have not joined any circle yet</h3>
	<p class="intro">The Gossip Feed shows the latest rumors only from circles you joined</p>
	<p class="intro">Join circles<a href="#"> nearby</a>, search by<a href="#"> city</a>, or view the hottest <a href="#">topics</a></p>
</div>

<div id="gossips_container">
	<% @gossips.each do |gossip| %>
	    <%= render partial: "gossip", locals: { gossip: gossip, comments: 3}, formats: [:html] %>
	<% end %>
</div>
<%= will_paginate @gossips%>
<script>
	var paginationInit = function(){
	  if ($('.pagination').length) {
	    $('.pagination').hide();
	    $(window).scroll(function() {
	      var url;
	      url = $('.pagination .next_page').attr('href');
	      if (url && $(window).scrollTop() > $(document).height() - $(window).height() - 200) {
	        $('.pagination').text("Fetching more products...");
	        $.getScript(url, function(data, textStatus, jqxhr) {
	          // $("ul li:nth-child(3n+1)").css("margin-left", "0px");
	        }).fail(function(jqxhr, settings, exception) {
	          console.log("ajax fail: get events");
	        });
	      }
	    });
	  }
	}

	$(document).ready(function() {
    			paginationInit();
   	});
</script>

